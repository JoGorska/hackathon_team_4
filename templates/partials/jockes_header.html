{% block content %}
{% if user.is_authenticated %}
<!-- card header  for authorised users -->
<form action="{% url 'eyes' jocke_id=jocke.id %}" class="d-inline" method="POST">
  {% csrf_token %}
  <div class="card-header">
    <div class="row">
      <div class="col pt-2">
        {{jocke.author.first_name}}
      </div>
      <!-- icon for Eyes -->
      <div class="col text-end">
        <div class="d-inline" data-bs-toggle="tooltip" data-bs-placement="top" title="Thank you!">
          <button class="btn btn-link btn-sm text-decoration-none"
                  role="link" type="submit" name="jocke_id" value="{{jocke.id}}">
                  {% if user in jocke.eyes.all %}
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-fill" viewBox="0 0 16 16">
                    <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"/>
                    <path d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"/>
                  </svg>
                  {% else %}
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
                    <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
                    <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
                  </svg>
                  {% endif %}
          </button>
          <p class="d-inline fw-bold fs-5 text">
            {{jocke.number_of_eyes}}
          </p>
        </div>
      </div>
    </div>
  </div>
</form>
{% else %}
<!-- card header for unauthorised users -->
<div class="card-header">
  <div class="row">
    <div class="col pt-2 text-warning">
      {{jocke.author.first_name}}
    </div>
    <!-- icon for Thanks -->
    <div class="col text-end">
      <div class="d-inline" data-bs-toggle="tooltip" data-bs-placement="top" title="Read it">
        <svg class="mb-1" width="42" height="42" fill="currentColor" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <g transform="matrix(1,0,0,1,-508,-162.338)">
            <g transform="matrix(1,0,0,1,174.83,162.338)">
              <rect height="16" width="16" style="fill:none;" x="333.17" y="0"/>
              <g transform="matrix(1,0,0,1,141.17,-256)">
                <path d="M233.236,278L246,278C247.105,278 248,278.895 248,280C248,281.105 247.105,282 246,282C242.408,282 235.236,282 235.236,282L237.236,286L238,286C242.418,286 246,289.582 246,294C246,294 246,294 246,294C246,298.418 242.418,302 238,302C229.584,302 216.416,302 208,302C203.582,302 200,298.418 200,294C200,294 200,294 200,294C200,289.582 203.582,286 208,286C208.195,286 208.306,286 208.306,286C208.306,286 209.477,278.97 210.027,275.671C210.188,274.707 211.022,274 212,274C216.09,274 226.429,274 230,274C230.758,274 231.45,274.428 231.789,275.106C232.381,276.289 233.236,278 233.236,278ZM208,290C205.791,290 204,291.791 204,294C204,294 204,294 204,294C204,296.209 205.791,298 208,298C215.3,298 230.7,298 238,298C240.209,298 242,296.209 242,294C242,294 242,294 242,294C242,291.791 240.209,290 238,290C230.7,290 215.3,290 208,290ZM232.764,286L228.764,278L213.694,278L212.361,286L232.764,286Z"/>
              </g>
            </g>
          </g>
        </svg>
        <p class="d-inline fw-bold fs-5 text">{{jocke.number_of_eyes}}
        </p>
      </div>
    </div>
  </div>
</div>
{% endif %}
{% endblock %} 